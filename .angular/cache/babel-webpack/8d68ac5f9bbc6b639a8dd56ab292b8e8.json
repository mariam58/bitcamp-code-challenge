{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/User/Desktop/bitcamp-code-challenge/corona-virus-statistics/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Directive, Inject, Input, Output, NgModule } from '@angular/core';\nimport { of, EMPTY, Subject, asyncScheduler, Observable } from 'rxjs';\nimport { throttleTime, switchMap } from 'rxjs/operators';\n\nclass ChangeFilter {\n  constructor(changes) {\n    this.changes = changes;\n  }\n\n  static of(changes) {\n    return new ChangeFilter(changes);\n  }\n\n  notEmpty(key) {\n    if (this.changes[key]) {\n      const value = this.changes[key].currentValue;\n\n      if (value !== undefined && value !== null) {\n        return of(value);\n      }\n    }\n\n    return EMPTY;\n  }\n\n  has(key) {\n    if (this.changes[key]) {\n      const value = this.changes[key].currentValue;\n      return of(value);\n    }\n\n    return EMPTY;\n  }\n\n  notFirst(key) {\n    if (this.changes[key] && !this.changes[key].isFirstChange()) {\n      const value = this.changes[key].currentValue;\n      return of(value);\n    }\n\n    return EMPTY;\n  }\n\n  notFirstAndEmpty(key) {\n    if (this.changes[key] && !this.changes[key].isFirstChange()) {\n      const value = this.changes[key].currentValue;\n\n      if (value !== undefined && value !== null) {\n        return of(value);\n      }\n    }\n\n    return EMPTY;\n  }\n\n}\n\nconst NGX_ECHARTS_CONFIG = new InjectionToken('NGX_ECHARTS_CONFIG');\n\nclass NgxEchartsDirective {\n  constructor(config, el, ngZone) {\n    this.el = el;\n    this.ngZone = ngZone;\n    this.autoResize = true;\n    this.loadingType = 'default'; // ngx-echarts events\n\n    this.chartInit = new EventEmitter();\n    this.optionsError = new EventEmitter(); // echarts mouse events\n\n    this.chartClick = this.createLazyEvent('click');\n    this.chartDblClick = this.createLazyEvent('dblclick');\n    this.chartMouseDown = this.createLazyEvent('mousedown');\n    this.chartMouseMove = this.createLazyEvent('mousemove');\n    this.chartMouseUp = this.createLazyEvent('mouseup');\n    this.chartMouseOver = this.createLazyEvent('mouseover');\n    this.chartMouseOut = this.createLazyEvent('mouseout');\n    this.chartGlobalOut = this.createLazyEvent('globalout');\n    this.chartContextMenu = this.createLazyEvent('contextmenu'); // echarts mouse events\n\n    this.chartLegendSelectChanged = this.createLazyEvent('legendselectchanged');\n    this.chartLegendSelected = this.createLazyEvent('legendselected');\n    this.chartLegendUnselected = this.createLazyEvent('legendunselected');\n    this.chartLegendScroll = this.createLazyEvent('legendscroll');\n    this.chartDataZoom = this.createLazyEvent('datazoom');\n    this.chartDataRangeSelected = this.createLazyEvent('datarangeselected');\n    this.chartTimelineChanged = this.createLazyEvent('timelinechanged');\n    this.chartTimelinePlayChanged = this.createLazyEvent('timelineplaychanged');\n    this.chartRestore = this.createLazyEvent('restore');\n    this.chartDataViewChanged = this.createLazyEvent('dataviewchanged');\n    this.chartMagicTypeChanged = this.createLazyEvent('magictypechanged');\n    this.chartPieSelectChanged = this.createLazyEvent('pieselectchanged');\n    this.chartPieSelected = this.createLazyEvent('pieselected');\n    this.chartPieUnselected = this.createLazyEvent('pieunselected');\n    this.chartMapSelectChanged = this.createLazyEvent('mapselectchanged');\n    this.chartMapSelected = this.createLazyEvent('mapselected');\n    this.chartMapUnselected = this.createLazyEvent('mapunselected');\n    this.chartAxisAreaSelected = this.createLazyEvent('axisareaselected');\n    this.chartFocusNodeAdjacency = this.createLazyEvent('focusnodeadjacency');\n    this.chartUnfocusNodeAdjacency = this.createLazyEvent('unfocusnodeadjacency');\n    this.chartBrush = this.createLazyEvent('brush');\n    this.chartBrushEnd = this.createLazyEvent('brushend');\n    this.chartBrushSelected = this.createLazyEvent('brushselected');\n    this.chartRendered = this.createLazyEvent('rendered');\n    this.chartFinished = this.createLazyEvent('finished');\n    this.animationFrameID = null;\n    this.resize$ = new Subject();\n    this.echarts = config.echarts;\n  }\n\n  ngOnChanges(changes) {\n    const filter = ChangeFilter.of(changes);\n    filter.notFirstAndEmpty('options').subscribe(opt => this.onOptionsChange(opt));\n    filter.notFirstAndEmpty('merge').subscribe(opt => this.setOption(opt));\n    filter.has('loading').subscribe(v => this.toggleLoading(!!v));\n    filter.notFirst('theme').subscribe(() => this.refreshChart());\n  }\n\n  ngOnInit() {\n    if (!window.ResizeObserver) {\n      throw new Error('please install a polyfill for ResizeObserver');\n    }\n\n    this.resizeSub = this.resize$.pipe(throttleTime(100, asyncScheduler, {\n      leading: false,\n      trailing: true\n    })).subscribe(() => this.resize());\n\n    if (this.autoResize) {\n      this.resizeOb = this.ngZone.runOutsideAngular(() => new window.ResizeObserver(() => {\n        this.animationFrameID = window.requestAnimationFrame(() => this.resize$.next());\n      }));\n      this.resizeOb.observe(this.el.nativeElement);\n    }\n  }\n\n  ngOnDestroy() {\n    window.clearTimeout(this.initChartTimer);\n\n    if (this.resizeSub) {\n      this.resizeSub.unsubscribe();\n    }\n\n    if (this.animationFrameID) {\n      window.cancelAnimationFrame(this.animationFrameID);\n    }\n\n    if (this.resizeOb) {\n      this.resizeOb.unobserve(this.el.nativeElement);\n    }\n\n    this.dispose();\n  }\n\n  ngAfterViewInit() {\n    this.initChartTimer = window.setTimeout(() => this.initChart());\n  }\n\n  dispose() {\n    if (this.chart) {\n      if (!this.chart.isDisposed()) {\n        this.chart.dispose();\n      }\n\n      this.chart = null;\n    }\n  }\n  /**\n   * resize chart\n   */\n\n\n  resize() {\n    if (this.chart) {\n      this.chart.resize();\n    }\n  }\n\n  toggleLoading(loading) {\n    if (this.chart) {\n      loading ? this.chart.showLoading(this.loadingType, this.loadingOpts) : this.chart.hideLoading();\n    }\n  }\n\n  setOption(option, opts) {\n    if (this.chart) {\n      try {\n        this.chart.setOption(option, opts);\n      } catch (e) {\n        console.error(e);\n        this.optionsError.emit(e);\n      }\n    }\n  }\n  /**\n   * dispose old chart and create a new one.\n   */\n\n\n  refreshChart() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.dispose();\n\n      yield _this.initChart();\n    })();\n  }\n\n  createChart() {\n    const dom = this.el.nativeElement;\n\n    if (window && window.getComputedStyle) {\n      const prop = window.getComputedStyle(dom, null).getPropertyValue('height');\n\n      if ((!prop || prop === '0px') && (!dom.style.height || dom.style.height === '0px')) {\n        dom.style.height = '400px';\n      }\n    } // here a bit tricky: we check if the echarts module is provided as function returning native import('...') then use the promise\n    // otherwise create the function that imitates behaviour above with a provided as is module\n\n\n    return this.ngZone.runOutsideAngular(() => {\n      const load = typeof this.echarts === 'function' ? this.echarts : () => Promise.resolve(this.echarts);\n      return load().then(({\n        init\n      }) => init(dom, this.theme, this.initOpts));\n    });\n  }\n\n  initChart() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.onOptionsChange(_this2.options);\n\n      if (_this2.merge && _this2.chart) {\n        _this2.setOption(_this2.merge);\n      }\n    })();\n  }\n\n  onOptionsChange(opt) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!opt) {\n        return;\n      }\n\n      if (_this3.chart) {\n        _this3.setOption(_this3.options, true);\n      } else {\n        _this3.chart = yield _this3.createChart();\n\n        _this3.chartInit.emit(_this3.chart);\n\n        _this3.setOption(_this3.options, true);\n      }\n    })();\n  } // allows to lazily bind to only those events that are requested through the `@Output` by parent components\n  // see https://stackoverflow.com/questions/51787972/optimal-reentering-the-ngzone-from-eventemitter-event for more info\n\n\n  createLazyEvent(eventName) {\n    return this.chartInit.pipe(switchMap(chart => new Observable(observer => {\n      chart.on(eventName, data => this.ngZone.run(() => observer.next(data)));\n      return () => {\n        if (this.chart) {\n          if (!this.chart.isDisposed()) {\n            chart.off(eventName);\n          }\n        }\n      };\n    })));\n  }\n\n}\n\nNgxEchartsDirective.ɵfac = function NgxEchartsDirective_Factory(t) {\n  return new (t || NgxEchartsDirective)(i0.ɵɵdirectiveInject(NGX_ECHARTS_CONFIG), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.NgZone));\n};\n\nNgxEchartsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NgxEchartsDirective,\n  selectors: [[\"echarts\"], [\"\", \"echarts\", \"\"]],\n  inputs: {\n    options: \"options\",\n    theme: \"theme\",\n    loading: \"loading\",\n    initOpts: \"initOpts\",\n    merge: \"merge\",\n    autoResize: \"autoResize\",\n    loadingType: \"loadingType\",\n    loadingOpts: \"loadingOpts\"\n  },\n  outputs: {\n    chartInit: \"chartInit\",\n    optionsError: \"optionsError\",\n    chartClick: \"chartClick\",\n    chartDblClick: \"chartDblClick\",\n    chartMouseDown: \"chartMouseDown\",\n    chartMouseMove: \"chartMouseMove\",\n    chartMouseUp: \"chartMouseUp\",\n    chartMouseOver: \"chartMouseOver\",\n    chartMouseOut: \"chartMouseOut\",\n    chartGlobalOut: \"chartGlobalOut\",\n    chartContextMenu: \"chartContextMenu\",\n    chartLegendSelectChanged: \"chartLegendSelectChanged\",\n    chartLegendSelected: \"chartLegendSelected\",\n    chartLegendUnselected: \"chartLegendUnselected\",\n    chartLegendScroll: \"chartLegendScroll\",\n    chartDataZoom: \"chartDataZoom\",\n    chartDataRangeSelected: \"chartDataRangeSelected\",\n    chartTimelineChanged: \"chartTimelineChanged\",\n    chartTimelinePlayChanged: \"chartTimelinePlayChanged\",\n    chartRestore: \"chartRestore\",\n    chartDataViewChanged: \"chartDataViewChanged\",\n    chartMagicTypeChanged: \"chartMagicTypeChanged\",\n    chartPieSelectChanged: \"chartPieSelectChanged\",\n    chartPieSelected: \"chartPieSelected\",\n    chartPieUnselected: \"chartPieUnselected\",\n    chartMapSelectChanged: \"chartMapSelectChanged\",\n    chartMapSelected: \"chartMapSelected\",\n    chartMapUnselected: \"chartMapUnselected\",\n    chartAxisAreaSelected: \"chartAxisAreaSelected\",\n    chartFocusNodeAdjacency: \"chartFocusNodeAdjacency\",\n    chartUnfocusNodeAdjacency: \"chartUnfocusNodeAdjacency\",\n    chartBrush: \"chartBrush\",\n    chartBrushEnd: \"chartBrushEnd\",\n    chartBrushSelected: \"chartBrushSelected\",\n    chartRendered: \"chartRendered\",\n    chartFinished: \"chartFinished\"\n  },\n  exportAs: [\"echarts\"],\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEchartsDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'echarts, [echarts]',\n      exportAs: 'echarts'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [NGX_ECHARTS_CONFIG]\n      }]\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    options: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    loading: [{\n      type: Input\n    }],\n    initOpts: [{\n      type: Input\n    }],\n    merge: [{\n      type: Input\n    }],\n    autoResize: [{\n      type: Input\n    }],\n    loadingType: [{\n      type: Input\n    }],\n    loadingOpts: [{\n      type: Input\n    }],\n    chartInit: [{\n      type: Output\n    }],\n    optionsError: [{\n      type: Output\n    }],\n    chartClick: [{\n      type: Output\n    }],\n    chartDblClick: [{\n      type: Output\n    }],\n    chartMouseDown: [{\n      type: Output\n    }],\n    chartMouseMove: [{\n      type: Output\n    }],\n    chartMouseUp: [{\n      type: Output\n    }],\n    chartMouseOver: [{\n      type: Output\n    }],\n    chartMouseOut: [{\n      type: Output\n    }],\n    chartGlobalOut: [{\n      type: Output\n    }],\n    chartContextMenu: [{\n      type: Output\n    }],\n    chartLegendSelectChanged: [{\n      type: Output\n    }],\n    chartLegendSelected: [{\n      type: Output\n    }],\n    chartLegendUnselected: [{\n      type: Output\n    }],\n    chartLegendScroll: [{\n      type: Output\n    }],\n    chartDataZoom: [{\n      type: Output\n    }],\n    chartDataRangeSelected: [{\n      type: Output\n    }],\n    chartTimelineChanged: [{\n      type: Output\n    }],\n    chartTimelinePlayChanged: [{\n      type: Output\n    }],\n    chartRestore: [{\n      type: Output\n    }],\n    chartDataViewChanged: [{\n      type: Output\n    }],\n    chartMagicTypeChanged: [{\n      type: Output\n    }],\n    chartPieSelectChanged: [{\n      type: Output\n    }],\n    chartPieSelected: [{\n      type: Output\n    }],\n    chartPieUnselected: [{\n      type: Output\n    }],\n    chartMapSelectChanged: [{\n      type: Output\n    }],\n    chartMapSelected: [{\n      type: Output\n    }],\n    chartMapUnselected: [{\n      type: Output\n    }],\n    chartAxisAreaSelected: [{\n      type: Output\n    }],\n    chartFocusNodeAdjacency: [{\n      type: Output\n    }],\n    chartUnfocusNodeAdjacency: [{\n      type: Output\n    }],\n    chartBrush: [{\n      type: Output\n    }],\n    chartBrushEnd: [{\n      type: Output\n    }],\n    chartBrushSelected: [{\n      type: Output\n    }],\n    chartRendered: [{\n      type: Output\n    }],\n    chartFinished: [{\n      type: Output\n    }]\n  });\n})();\n\nclass NgxEchartsModule {\n  static forRoot(config) {\n    return {\n      ngModule: NgxEchartsModule,\n      providers: [{\n        provide: NGX_ECHARTS_CONFIG,\n        useValue: config\n      }]\n    };\n  }\n\n  static forChild() {\n    return {\n      ngModule: NgxEchartsModule\n    };\n  }\n\n}\n\nNgxEchartsModule.ɵfac = function NgxEchartsModule_Factory(t) {\n  return new (t || NgxEchartsModule)();\n};\n\nNgxEchartsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgxEchartsModule\n});\nNgxEchartsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxEchartsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [],\n      declarations: [NgxEchartsDirective],\n      exports: [NgxEchartsDirective]\n    }]\n  }], null, null);\n})();\n/*\n * Public API Surface of ngx-echarts\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NGX_ECHARTS_CONFIG, NgxEchartsDirective, NgxEchartsModule };","map":{"version":3,"sources":["C:/Users/User/Desktop/bitcamp-code-challenge/corona-virus-statistics/node_modules/ngx-echarts/fesm2020/ngx-echarts.mjs"],"names":["i0","InjectionToken","EventEmitter","Directive","Inject","Input","Output","NgModule","of","EMPTY","Subject","asyncScheduler","Observable","throttleTime","switchMap","ChangeFilter","constructor","changes","notEmpty","key","value","currentValue","undefined","has","notFirst","isFirstChange","notFirstAndEmpty","NGX_ECHARTS_CONFIG","NgxEchartsDirective","config","el","ngZone","autoResize","loadingType","chartInit","optionsError","chartClick","createLazyEvent","chartDblClick","chartMouseDown","chartMouseMove","chartMouseUp","chartMouseOver","chartMouseOut","chartGlobalOut","chartContextMenu","chartLegendSelectChanged","chartLegendSelected","chartLegendUnselected","chartLegendScroll","chartDataZoom","chartDataRangeSelected","chartTimelineChanged","chartTimelinePlayChanged","chartRestore","chartDataViewChanged","chartMagicTypeChanged","chartPieSelectChanged","chartPieSelected","chartPieUnselected","chartMapSelectChanged","chartMapSelected","chartMapUnselected","chartAxisAreaSelected","chartFocusNodeAdjacency","chartUnfocusNodeAdjacency","chartBrush","chartBrushEnd","chartBrushSelected","chartRendered","chartFinished","animationFrameID","resize$","echarts","ngOnChanges","filter","subscribe","opt","onOptionsChange","setOption","v","toggleLoading","refreshChart","ngOnInit","window","ResizeObserver","Error","resizeSub","pipe","leading","trailing","resize","resizeOb","runOutsideAngular","requestAnimationFrame","next","observe","nativeElement","ngOnDestroy","clearTimeout","initChartTimer","unsubscribe","cancelAnimationFrame","unobserve","dispose","ngAfterViewInit","setTimeout","initChart","chart","isDisposed","loading","showLoading","loadingOpts","hideLoading","option","opts","e","console","error","emit","createChart","dom","getComputedStyle","prop","getPropertyValue","style","height","load","Promise","resolve","then","init","theme","initOpts","options","merge","eventName","observer","on","data","run","off","ɵfac","ElementRef","NgZone","ɵdir","type","args","selector","exportAs","decorators","NgxEchartsModule","forRoot","ngModule","providers","provide","useValue","forChild","ɵmod","ɵinj","imports","declarations","exports"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Directive, Inject, Input, Output, NgModule } from '@angular/core';\nimport { of, EMPTY, Subject, asyncScheduler, Observable } from 'rxjs';\nimport { throttleTime, switchMap } from 'rxjs/operators';\n\nclass ChangeFilter {\n    constructor(changes) {\n        this.changes = changes;\n    }\n    static of(changes) {\n        return new ChangeFilter(changes);\n    }\n    notEmpty(key) {\n        if (this.changes[key]) {\n            const value = this.changes[key].currentValue;\n            if (value !== undefined && value !== null) {\n                return of(value);\n            }\n        }\n        return EMPTY;\n    }\n    has(key) {\n        if (this.changes[key]) {\n            const value = this.changes[key].currentValue;\n            return of(value);\n        }\n        return EMPTY;\n    }\n    notFirst(key) {\n        if (this.changes[key] && !this.changes[key].isFirstChange()) {\n            const value = this.changes[key].currentValue;\n            return of(value);\n        }\n        return EMPTY;\n    }\n    notFirstAndEmpty(key) {\n        if (this.changes[key] && !this.changes[key].isFirstChange()) {\n            const value = this.changes[key].currentValue;\n            if (value !== undefined && value !== null) {\n                return of(value);\n            }\n        }\n        return EMPTY;\n    }\n}\n\nconst NGX_ECHARTS_CONFIG = new InjectionToken('NGX_ECHARTS_CONFIG');\nclass NgxEchartsDirective {\n    constructor(config, el, ngZone) {\n        this.el = el;\n        this.ngZone = ngZone;\n        this.autoResize = true;\n        this.loadingType = 'default';\n        // ngx-echarts events\n        this.chartInit = new EventEmitter();\n        this.optionsError = new EventEmitter();\n        // echarts mouse events\n        this.chartClick = this.createLazyEvent('click');\n        this.chartDblClick = this.createLazyEvent('dblclick');\n        this.chartMouseDown = this.createLazyEvent('mousedown');\n        this.chartMouseMove = this.createLazyEvent('mousemove');\n        this.chartMouseUp = this.createLazyEvent('mouseup');\n        this.chartMouseOver = this.createLazyEvent('mouseover');\n        this.chartMouseOut = this.createLazyEvent('mouseout');\n        this.chartGlobalOut = this.createLazyEvent('globalout');\n        this.chartContextMenu = this.createLazyEvent('contextmenu');\n        // echarts mouse events\n        this.chartLegendSelectChanged = this.createLazyEvent('legendselectchanged');\n        this.chartLegendSelected = this.createLazyEvent('legendselected');\n        this.chartLegendUnselected = this.createLazyEvent('legendunselected');\n        this.chartLegendScroll = this.createLazyEvent('legendscroll');\n        this.chartDataZoom = this.createLazyEvent('datazoom');\n        this.chartDataRangeSelected = this.createLazyEvent('datarangeselected');\n        this.chartTimelineChanged = this.createLazyEvent('timelinechanged');\n        this.chartTimelinePlayChanged = this.createLazyEvent('timelineplaychanged');\n        this.chartRestore = this.createLazyEvent('restore');\n        this.chartDataViewChanged = this.createLazyEvent('dataviewchanged');\n        this.chartMagicTypeChanged = this.createLazyEvent('magictypechanged');\n        this.chartPieSelectChanged = this.createLazyEvent('pieselectchanged');\n        this.chartPieSelected = this.createLazyEvent('pieselected');\n        this.chartPieUnselected = this.createLazyEvent('pieunselected');\n        this.chartMapSelectChanged = this.createLazyEvent('mapselectchanged');\n        this.chartMapSelected = this.createLazyEvent('mapselected');\n        this.chartMapUnselected = this.createLazyEvent('mapunselected');\n        this.chartAxisAreaSelected = this.createLazyEvent('axisareaselected');\n        this.chartFocusNodeAdjacency = this.createLazyEvent('focusnodeadjacency');\n        this.chartUnfocusNodeAdjacency = this.createLazyEvent('unfocusnodeadjacency');\n        this.chartBrush = this.createLazyEvent('brush');\n        this.chartBrushEnd = this.createLazyEvent('brushend');\n        this.chartBrushSelected = this.createLazyEvent('brushselected');\n        this.chartRendered = this.createLazyEvent('rendered');\n        this.chartFinished = this.createLazyEvent('finished');\n        this.animationFrameID = null;\n        this.resize$ = new Subject();\n        this.echarts = config.echarts;\n    }\n    ngOnChanges(changes) {\n        const filter = ChangeFilter.of(changes);\n        filter.notFirstAndEmpty('options').subscribe((opt) => this.onOptionsChange(opt));\n        filter.notFirstAndEmpty('merge').subscribe((opt) => this.setOption(opt));\n        filter.has('loading').subscribe((v) => this.toggleLoading(!!v));\n        filter.notFirst('theme').subscribe(() => this.refreshChart());\n    }\n    ngOnInit() {\n        if (!window.ResizeObserver) {\n            throw new Error('please install a polyfill for ResizeObserver');\n        }\n        this.resizeSub = this.resize$.pipe(throttleTime(100, asyncScheduler, { leading: false, trailing: true })).subscribe(() => this.resize());\n        if (this.autoResize) {\n            this.resizeOb = this.ngZone.runOutsideAngular(() => new window.ResizeObserver(() => {\n                this.animationFrameID = window.requestAnimationFrame(() => this.resize$.next());\n            }));\n            this.resizeOb.observe(this.el.nativeElement);\n        }\n    }\n    ngOnDestroy() {\n        window.clearTimeout(this.initChartTimer);\n        if (this.resizeSub) {\n            this.resizeSub.unsubscribe();\n        }\n        if (this.animationFrameID) {\n            window.cancelAnimationFrame(this.animationFrameID);\n        }\n        if (this.resizeOb) {\n            this.resizeOb.unobserve(this.el.nativeElement);\n        }\n        this.dispose();\n    }\n    ngAfterViewInit() {\n        this.initChartTimer = window.setTimeout(() => this.initChart());\n    }\n    dispose() {\n        if (this.chart) {\n            if (!this.chart.isDisposed()) {\n                this.chart.dispose();\n            }\n            this.chart = null;\n        }\n    }\n    /**\n     * resize chart\n     */\n    resize() {\n        if (this.chart) {\n            this.chart.resize();\n        }\n    }\n    toggleLoading(loading) {\n        if (this.chart) {\n            loading\n                ? this.chart.showLoading(this.loadingType, this.loadingOpts)\n                : this.chart.hideLoading();\n        }\n    }\n    setOption(option, opts) {\n        if (this.chart) {\n            try {\n                this.chart.setOption(option, opts);\n            }\n            catch (e) {\n                console.error(e);\n                this.optionsError.emit(e);\n            }\n        }\n    }\n    /**\n     * dispose old chart and create a new one.\n     */\n    async refreshChart() {\n        this.dispose();\n        await this.initChart();\n    }\n    createChart() {\n        const dom = this.el.nativeElement;\n        if (window && window.getComputedStyle) {\n            const prop = window.getComputedStyle(dom, null).getPropertyValue('height');\n            if ((!prop || prop === '0px') && (!dom.style.height || dom.style.height === '0px')) {\n                dom.style.height = '400px';\n            }\n        }\n        // here a bit tricky: we check if the echarts module is provided as function returning native import('...') then use the promise\n        // otherwise create the function that imitates behaviour above with a provided as is module\n        return this.ngZone.runOutsideAngular(() => {\n            const load = typeof this.echarts === 'function' ? this.echarts : () => Promise.resolve(this.echarts);\n            return load().then(({ init }) => init(dom, this.theme, this.initOpts));\n        });\n    }\n    async initChart() {\n        await this.onOptionsChange(this.options);\n        if (this.merge && this.chart) {\n            this.setOption(this.merge);\n        }\n    }\n    async onOptionsChange(opt) {\n        if (!opt) {\n            return;\n        }\n        if (this.chart) {\n            this.setOption(this.options, true);\n        }\n        else {\n            this.chart = await this.createChart();\n            this.chartInit.emit(this.chart);\n            this.setOption(this.options, true);\n        }\n    }\n    // allows to lazily bind to only those events that are requested through the `@Output` by parent components\n    // see https://stackoverflow.com/questions/51787972/optimal-reentering-the-ngzone-from-eventemitter-event for more info\n    createLazyEvent(eventName) {\n        return this.chartInit.pipe(switchMap((chart) => new Observable((observer) => {\n            chart.on(eventName, (data) => this.ngZone.run(() => observer.next(data)));\n            return () => {\n                if (this.chart) {\n                    if (!this.chart.isDisposed()) {\n                        chart.off(eventName);\n                    }\n                }\n            };\n        })));\n    }\n}\nNgxEchartsDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsDirective, deps: [{ token: NGX_ECHARTS_CONFIG }, { token: i0.ElementRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Directive });\nNgxEchartsDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.0.0\", type: NgxEchartsDirective, selector: \"echarts, [echarts]\", inputs: { options: \"options\", theme: \"theme\", loading: \"loading\", initOpts: \"initOpts\", merge: \"merge\", autoResize: \"autoResize\", loadingType: \"loadingType\", loadingOpts: \"loadingOpts\" }, outputs: { chartInit: \"chartInit\", optionsError: \"optionsError\", chartClick: \"chartClick\", chartDblClick: \"chartDblClick\", chartMouseDown: \"chartMouseDown\", chartMouseMove: \"chartMouseMove\", chartMouseUp: \"chartMouseUp\", chartMouseOver: \"chartMouseOver\", chartMouseOut: \"chartMouseOut\", chartGlobalOut: \"chartGlobalOut\", chartContextMenu: \"chartContextMenu\", chartLegendSelectChanged: \"chartLegendSelectChanged\", chartLegendSelected: \"chartLegendSelected\", chartLegendUnselected: \"chartLegendUnselected\", chartLegendScroll: \"chartLegendScroll\", chartDataZoom: \"chartDataZoom\", chartDataRangeSelected: \"chartDataRangeSelected\", chartTimelineChanged: \"chartTimelineChanged\", chartTimelinePlayChanged: \"chartTimelinePlayChanged\", chartRestore: \"chartRestore\", chartDataViewChanged: \"chartDataViewChanged\", chartMagicTypeChanged: \"chartMagicTypeChanged\", chartPieSelectChanged: \"chartPieSelectChanged\", chartPieSelected: \"chartPieSelected\", chartPieUnselected: \"chartPieUnselected\", chartMapSelectChanged: \"chartMapSelectChanged\", chartMapSelected: \"chartMapSelected\", chartMapUnselected: \"chartMapUnselected\", chartAxisAreaSelected: \"chartAxisAreaSelected\", chartFocusNodeAdjacency: \"chartFocusNodeAdjacency\", chartUnfocusNodeAdjacency: \"chartUnfocusNodeAdjacency\", chartBrush: \"chartBrush\", chartBrushEnd: \"chartBrushEnd\", chartBrushSelected: \"chartBrushSelected\", chartRendered: \"chartRendered\", chartFinished: \"chartFinished\" }, exportAs: [\"echarts\"], usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'echarts, [echarts]',\n                    exportAs: 'echarts',\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [NGX_ECHARTS_CONFIG]\n                }] }, { type: i0.ElementRef }, { type: i0.NgZone }]; }, propDecorators: { options: [{\n                type: Input\n            }], theme: [{\n                type: Input\n            }], loading: [{\n                type: Input\n            }], initOpts: [{\n                type: Input\n            }], merge: [{\n                type: Input\n            }], autoResize: [{\n                type: Input\n            }], loadingType: [{\n                type: Input\n            }], loadingOpts: [{\n                type: Input\n            }], chartInit: [{\n                type: Output\n            }], optionsError: [{\n                type: Output\n            }], chartClick: [{\n                type: Output\n            }], chartDblClick: [{\n                type: Output\n            }], chartMouseDown: [{\n                type: Output\n            }], chartMouseMove: [{\n                type: Output\n            }], chartMouseUp: [{\n                type: Output\n            }], chartMouseOver: [{\n                type: Output\n            }], chartMouseOut: [{\n                type: Output\n            }], chartGlobalOut: [{\n                type: Output\n            }], chartContextMenu: [{\n                type: Output\n            }], chartLegendSelectChanged: [{\n                type: Output\n            }], chartLegendSelected: [{\n                type: Output\n            }], chartLegendUnselected: [{\n                type: Output\n            }], chartLegendScroll: [{\n                type: Output\n            }], chartDataZoom: [{\n                type: Output\n            }], chartDataRangeSelected: [{\n                type: Output\n            }], chartTimelineChanged: [{\n                type: Output\n            }], chartTimelinePlayChanged: [{\n                type: Output\n            }], chartRestore: [{\n                type: Output\n            }], chartDataViewChanged: [{\n                type: Output\n            }], chartMagicTypeChanged: [{\n                type: Output\n            }], chartPieSelectChanged: [{\n                type: Output\n            }], chartPieSelected: [{\n                type: Output\n            }], chartPieUnselected: [{\n                type: Output\n            }], chartMapSelectChanged: [{\n                type: Output\n            }], chartMapSelected: [{\n                type: Output\n            }], chartMapUnselected: [{\n                type: Output\n            }], chartAxisAreaSelected: [{\n                type: Output\n            }], chartFocusNodeAdjacency: [{\n                type: Output\n            }], chartUnfocusNodeAdjacency: [{\n                type: Output\n            }], chartBrush: [{\n                type: Output\n            }], chartBrushEnd: [{\n                type: Output\n            }], chartBrushSelected: [{\n                type: Output\n            }], chartRendered: [{\n                type: Output\n            }], chartFinished: [{\n                type: Output\n            }] } });\n\nclass NgxEchartsModule {\n    static forRoot(config) {\n        return {\n            ngModule: NgxEchartsModule,\n            providers: [{ provide: NGX_ECHARTS_CONFIG, useValue: config }],\n        };\n    }\n    static forChild() {\n        return {\n            ngModule: NgxEchartsModule,\n        };\n    }\n}\nNgxEchartsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxEchartsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsModule, declarations: [NgxEchartsDirective], exports: [NgxEchartsDirective] });\nNgxEchartsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: NgxEchartsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [],\n                    declarations: [NgxEchartsDirective],\n                    exports: [NgxEchartsDirective],\n                }]\n        }] });\n\n/*\n * Public API Surface of ngx-echarts\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NGX_ECHARTS_CONFIG, NgxEchartsDirective, NgxEchartsModule };\n"]},"metadata":{},"sourceType":"module"}